{% extends 'layout.html' %}
{% block content %}

<h2>All Degrees</h2>

<div class="all-degrees">
<!-- Filtering system -->
<form class='filter' method='POST' action='/degrees'>
    <div>
        <h3>Filter by</h3>
        <!-- FILTER BY UNIVERSITY -->
        {% for form in forms %}
        <div class="filter_item">{{ form }}</div>
        {% endfor %}
    </div>
    <br>

    <!-- Buttons -->
    <input type='submit'>
</form>


<div class='degrees-container'>
    {% for degree in degrees %}


    <div class='grid-item'>

        <div>
            <a href="{{ url_for('degree', id=degree.id )}}">
                <p>{{degree.name}}</p>
                <span class="overlay">
                    {% for university in degree.universities %}
                    {{university.name}}<br>
                    {% endfor %}
                </span>
            </a>
        </div>
        <div>
            <button id="like_button" class="like_degree" type="submit"  value="{{ degree.likes }}" >
                <p>{{degree.likes}} &#10084;</p>
            </button>
        </div>
    </div> <!-- closing grid-item-->
    </a>

    {% endfor %}
</div> <!-- closing grid-container-->
</div> <!-- Closing all-degrees -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    document.querySelectorAll('#like_button')
        .forEach(element => element.addEventListener(
            'click', 
            event => {
                console.log(element);

                $(element).change(function() {
                console.log("change")
                });

                })
        )


    // function post(degree) {

    //     $.post("like", degree);
    //     console.log("func");
    //     console.log((degree));
        
    //     $('#like_button').change(function() {
    //     console.log("change")
    //     });
    // }
</script>

{% endblock %}